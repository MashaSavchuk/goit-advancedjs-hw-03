{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46556948-bd2679cce083bd479fad12d62';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst BASE_PARAMS = '&image_type=photo&orientation=horizontal&safesearch=true';\n\nfunction searchPhotos(queryStr) {\n    return fetch(`${BASE_URL}?key=${API_KEY}${BASE_PARAMS}&q=` + encodeURIComponent(queryStr))\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(res.status);\n            }\n            return res.json();\n        });\n }\n\nexport { searchPhotos }\n","function createGallery(photos) { \n  const gallery = document.createElement('ul');\n  for (const imgData of photos) { \n    const li = document.createElement('li');\n    li.classList.add(\"gallery-item\");\n  \n    const img = document.createElement('img');\n    img.classList.add(\"gallery-image\");\n    img.setAttribute('src', imgData.webformatURL);\n    img.setAttribute('alt', imgData.tags);\n  \n    const a = document.createElement('a');\n    a.classList.add('gallery-link')\n    a.setAttribute('href', imgData.largeImageURL);\n    a.append(img);\n\n    li.append(a);\n\n    const desc = document.createElement('div');\n    desc.classList.add(\"gallery-descr\");\n\n    const likes = document.createElement('div');\n    likes.innerHTML = `<span>Likes</span>${imgData.likes}`;\n    desc.append(likes);\n    const views = document.createElement('div');\n    views.innerHTML = `<span>Views</span>${imgData.views}`;\n    desc.append(views);\n    const comment = document.createElement('div');\n    comment.innerHTML = `<span>Comments</span>${imgData.comments}`;\n    desc.append(comment);\n    const download = document.createElement('div');\n    download.innerHTML = `<span>Downloads</span>${imgData.downloads}`;\n    desc.append(download);\n\n    li.append(desc);\n\n    gallery.append(li);\n  }\n  return gallery.innerHTML;\n}\n\nexport { createGallery }\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport \"./css/styles.css\";\n\nimport { searchPhotos } from \"./js/pixabay-api.js\";\nimport { createGallery } from \"./js/render-functions.js\";\n\n// Ініціалізація SimpleLightbox\nconst sLightbox = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  className: 'gallery-wrapper',\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\niziToast.settings({\n  class: \"toast\",\n  position: \"topRight\",\n  drag: false,\n});\n\n// DOM елементи\nconst theLoader = document.getElementById(\"loading-spinner\"); // Індикатор завантаження\nconst theGallery = document.querySelector('.gallery');\n\n// Обробка форми пошуку\ndocument.getElementById(\"search-form\").addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const queryStr = form.elements.queryStr.value.trim();\n\n  if (queryStr === \"\") {\n    form.reset();\n    return; // Нічого не робимо для порожнього запиту\n  }\n\n  // Показуємо індикатор завантаження перед запитом\n  theLoader.classList.add(\"is-loading\");\n  theGallery.innerHTML = ''; // Очищуємо галерею\n\n  searchPhotos(queryStr)\n    .then((data) => {\n      if (data.total == 0) {\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      } else {\n        theGallery.innerHTML = createGallery(data.hits); // Рендеримо галерею\n        sLightbox.refresh(); // Оновлюємо SimpleLightbox\n      }\n    })\n    .catch((err) => {\n      iziToast.error({\n        message: err.message,\n      });\n    })\n    .finally(() => {\n      // Приховуємо індикатор після завершення запиту\n      theLoader.classList.remove(\"is-loading\");\n      form.reset(); // Очищуємо форму\n    });\n});\n"],"names":["API_KEY","BASE_URL","BASE_PARAMS","searchPhotos","queryStr","res","createGallery","photos","gallery","imgData","li","img","a","desc","likes","views","comment","download","sLightbox","SimpleLightbox","iziToast","theLoader","theGallery","e","form","data","err"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BACXC,EAAc,2DAEpB,SAASC,EAAaC,EAAU,CAC5B,OAAO,MAAM,GAAGH,CAAQ,QAAQD,CAAO,GAAGE,CAAW,MAAQ,mBAAmBE,CAAQ,CAAC,EACpF,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACvB,CAAS,CACT,CCZA,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAAU,SAAS,cAAc,IAAI,EAC3C,UAAWC,KAAWF,EAAQ,CAC5B,MAAMG,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAE/B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,aAAa,MAAOF,EAAQ,YAAY,EAC5CE,EAAI,aAAa,MAAOF,EAAQ,IAAI,EAEpC,MAAMG,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,UAAU,IAAI,cAAc,EAC9BA,EAAE,aAAa,OAAQH,EAAQ,aAAa,EAC5CG,EAAE,OAAOD,CAAG,EAEZD,EAAG,OAAOE,CAAC,EAEX,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,eAAe,EAElC,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,qBAAqBL,EAAQ,KAAK,GACpDI,EAAK,OAAOC,CAAK,EACjB,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,qBAAqBN,EAAQ,KAAK,GACpDI,EAAK,OAAOE,CAAK,EACjB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,wBAAwBP,EAAQ,QAAQ,GAC5DI,EAAK,OAAOG,CAAO,EACnB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAY,yBAAyBR,EAAQ,SAAS,GAC/DI,EAAK,OAAOI,CAAQ,EAEpBP,EAAG,OAAOG,CAAI,EAEdL,EAAQ,OAAOE,CAAE,CAClB,CACD,OAAOF,EAAQ,SACjB,CC5BA,MAAMU,EAAY,IAAIC,EAAe,aAAc,CACjD,eAAgB,GAChB,UAAW,kBACX,aAAc,MACd,aAAc,GAChB,CAAC,EAEDC,EAAS,SAAS,CAChB,MAAO,QACP,SAAU,WACV,KAAM,EACR,CAAC,EAGD,MAAMC,EAAY,SAAS,eAAe,iBAAiB,EACrDC,EAAa,SAAS,cAAc,UAAU,EAGpD,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAWC,GAAM,CACvEA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTnB,EAAWoB,EAAK,SAAS,SAAS,MAAM,OAE9C,GAAIpB,IAAa,GAAI,CACnBoB,EAAK,MAAK,EACV,MACD,CAGDH,EAAU,UAAU,IAAI,YAAY,EACpCC,EAAW,UAAY,GAEvBnB,EAAaC,CAAQ,EAClB,KAAMqB,GAAS,CACVA,EAAK,OAAS,EAChBL,EAAS,MAAM,CACb,QAAS,0EACnB,CAAS,GAEDE,EAAW,UAAYhB,EAAcmB,EAAK,IAAI,EAC9CP,EAAU,QAAO,EAEzB,CAAK,EACA,MAAOQ,GAAQ,CACdN,EAAS,MAAM,CACb,QAASM,EAAI,OACrB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAEbL,EAAU,UAAU,OAAO,YAAY,EACvCG,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}